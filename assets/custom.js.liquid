/*-----------------------------------------------------------------------------/
/ Custom Theme JS
/-----------------------------------------------------------------------------*/

// Insert any custom theme js here...

/* Custom Slider */
$.fn.hasAttr = function(name){
  return this.attr(name) !== undefined;
}

$(document).ready(function(){
  $('.custom-product-slide').slick({
    dots: true,
	infinite: true,
    autoplay: true,
    autoplaySpeed: 5000,
	speed: 300,
	slidesToShow: 1,
  });
  
  $('.custom-review-slide').slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    infinite: true,
    speed: 300,
    responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 600,
        settings: {
          slidesToShow: 2,
        }
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
        }
      }
	]
  });
  
  /* Product Accordion */  
  
  $(document).on('click','[data-accordion]', function(){
    var hasOpened = $(this).hasClass('active');
    if(!hasOpened){
      $('[data-accordion]').removeClass('active');
      $(this).addClass('active');
    }
  });
  
  /* Product Quanity */
  
  $(document).on('click','.product__add-to-cart-button.btn--to-secondary-transitioned',function(){
    $quantity = $(this).parents('.product-form').find("[data-cart-item-input-quantity]");
    $quantity.val(1);
    $primary_text.html('Add 1 to basket');

  });
  
  $(document).on('click','.product-quantity-button',function(){
    $quantity = $(this).parents('.product-form').find("[data-cart-item-input-quantity]");
    $primary_text = $(this).parents('.product-form').find("[data-cart-primary-submit-text]");
    var quantity = parseInt($quantity.val());

    if($(this).hasAttr("quantity-minus-icon")){
      quantity = quantity != 1 ? quantity - 1 : 1;
    }
    
    if($(this).hasAttr("quantity-plus-icon")){
      quantity = quantity + 1;
    }
   
	$quantity.val(quantity);
    $primary_text.html('Add '+quantity+' to basket');
  });



// ADDED BY ROUSNAY


{% comment %}$( ".custom__block-heading-text.h6" ).wrapInner( "<blockquote></blockquote>");{% endcomment %}
{% comment %}
$('#shopify-section-st-hero-1 p:contains("”")').html('<span class="sa-sptext">' + $('#shopify-section-st-hero-1 p:contains("”")').text() + '</span>');
$('#shopify-section-st-hero-3 p:contains("”")').html('<span class="sa-sptext">' + $('#shopify-section-st-hero-3 p:contains("”")').text() + '</span>');
$('#shopify-section-st-hero-6 p:contains("”")').html('<span class="sa-sptext">' + $('#shopify-section-st-hero-6 p:contains("”")').text() + '</span>');
{% endcomment %}

$('body p:contains("”")').each(
        function(index) {
            var $el = $(this);
            var html = $el.html();
            {% comment %}$el.html(html.replace(/Office Current Listings/g, "<h2>Office Current Listings</h2>"));{% endcomment %}
            $el.html('<span class="sa-sptext">' + $el.text() + '</span>');
    
});


$(".sa-sptext").parent().css( "text-align", "center" );


$("body p:contains('”')").html(function(_, html) {
   return  html.replace(/(”)/g, '<span class="sa-quote sa-quote-a">$1</span>')
});


$("body p:contains('“')").html(function(_, html) {
   return  html.replace(/(“)/g, '<span class="sa-quote sa-b-quote-b">$1</span>')
});

$("body h2:contains('”')").html(function(_, html) {
   return  html.replace(/(”)/g, '<span class="sa-quote sa-quote-a">$1</span>')
});


$("body h2:contains('“')").html(function(_, html) {
   return  html.replace(/(“)/g, '<span class="sa-quote sa-b-quote-b">$1</span>')
});


});
